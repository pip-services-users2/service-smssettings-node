import { ConfigParams } from 'pip-services3-commons-nodex';
import { IConfigurable } from 'pip-services3-commons-nodex';
import { IReferences } from 'pip-services3-commons-nodex';
import { IReferenceable } from 'pip-services3-commons-nodex';
import { ICommandable } from 'pip-services3-commons-nodex';
import { CommandSet } from 'pip-services3-commons-nodex';
import { SmsSettingsV1 } from '../data/version1/SmsSettingsV1';
import { ISmsSettingsController } from './ISmsSettingsController';
export declare class SmsSettingsController implements IConfigurable, IReferenceable, ICommandable, ISmsSettingsController {
    private static _phoneRegex;
    private static _defaultConfig;
    private _verifyOnCreate;
    private _verifyOnUpdate;
    private _expireTimeout;
    private _magicCode;
    private _config;
    private _dependencyResolver;
    private _templatesResolver;
    private _logger;
    private _activitiesClient;
    private _smsClient;
    private _persistence;
    private _commandSet;
    configure(config: ConfigParams): void;
    setReferences(references: IReferences): void;
    getCommandSet(): CommandSet;
    private settingsToPublic;
    getSettingsByIds(correlationId: string, recipientIds: string[]): Promise<SmsSettingsV1[]>;
    getSettingsById(correlationId: string, recipientId: string): Promise<SmsSettingsV1>;
    getSettingsByPhoneSettings(correlationId: string, phone: string): Promise<SmsSettingsV1>;
    private verifyAndSaveSettings;
    private sendVerificationMessage;
    setSettings(correlationId: string, settings: SmsSettingsV1): Promise<SmsSettingsV1>;
    setVerifiedSettings(correlationId: string, settings: SmsSettingsV1): Promise<SmsSettingsV1>;
    setRecipient(correlationId: string, recipientId: string, name: string, phone: string, language: string): Promise<SmsSettingsV1>;
    setSubscriptions(correlationId: string, recipientId: string, subscriptions: any): Promise<SmsSettingsV1>;
    deleteSettingsById(correlationId: string, recipientId: string): Promise<void>;
    resendVerification(correlationId: string, recipientId: string): Promise<void>;
    private logActivity;
    verifyPhone(correlationId: string, recipientId: string, code: string): Promise<void>;
}
